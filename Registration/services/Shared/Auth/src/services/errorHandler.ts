// TODO: Make Generalized Error handling function